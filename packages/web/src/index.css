@import "tailwindcss";

/* Dynamic z-index css to support up to 100 overlapping agenda events */
@source inline("{hover:,focus:,}z-{{0..100..1}}");

@theme {
  /* Font families */
  --font-sans:
    Rubik, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-serif:
    ui-serif, Georgia, Cambria, "Times New Roman", Times, serif, sans-serif;
  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New";

  /* Semantic colors */
  --color-accent-primary: hsl(202 100 67);
  --color-bg-primary: hsl(222 28 7);
  --color-bg-secondary: hsl(218 24 9);
  --color-border-primary: hsl(219 18 34 / 20%);
  --color-border-primary-dark: hsl(0 0 0 / 50.2%);
  --color-border-secondary: hsl(47 7 73);
  --color-fg-primary: hsl(47 7 73);
  --color-fg-primary-dark: hsl(208 13 71 / 54.9%);
  --color-gradient-accent-light-start: hsl(202 100 67);
  --color-gradient-accent-light-end: hsl(196 45 78);
  --color-grid-line-primary: hsl(219 18 34 / 20%);
  --color-menu-bg: hsl(0 0 98);
  --color-panel-bg: hsl(219 8 46 / 20%);
  --color-panel-scrollbar: hsl(219 8 46 / 20%);
  --color-panel-scrollbar-active: hsl(221 9 37);
  --color-panel-shadow: hsl(221 9 37);
  --color-panel-text: hsl(0 0 98);
  --color-shadow-default: hsla(0 0 0 / 25%);
  --color-status-success: hsl(105 61 62);
  --color-status-error: hsl(0 63 60);
  --color-status-warning: hsl(25 100 63);
  --color-status-info: hsl(202 100 67);
  --color-tag-one: hsl(202 100 67);
  --color-tag-two: hsl(105 61 62);
  --color-tag-three: hsl(270 100 83);
  --color-text-light: hsl(47 7 73);
  --color-text-lighter: hsl(0 0 100);
  --color-text-light-inactive: hsl(208 13 71 / 54.9%);
  --color-text-dark: hsl(222 28 7);
  --color-text-dark-placeholder: hsl(219 8 46 / 90.2%);

  /* Font sizes */
  --font-size-xs: 0.563rem;
  --font-size-s: 0.688rem;
  --font-size-m: 0.8125rem;
  --font-size-l: 1rem;
  --font-size-xl: 1.125rem;
  --font-size-xxl: 1.3rem;
  --font-size-xxxl: 1.6rem;
  --font-size-4xl: 1.7rem;
  --font-size-5xl: 2rem;

  /* Border radius */
  --radius-default: 4px;

  /**
  * Raw colors
  * Do NOT use these anymore - use the semantic colors instead
  * https://github.com/SwitchbackTech/compass/issues/1265
  */
  --color-blue-200: hsl(196 60 59);
  --color-gray-900: hsl(0 0 0 / 50.2%);
  --color-gray-800: hsl(219 18 34 / 20%);
  --color-gray-700: hsl(219 18 34 / 25.1%);
  --color-gray-600: hsl(219 8 46 / 20%);
  --color-gray-500: hsl(219 8 46 / 20%);
  --color-gray-400: hsl(221 9 37);
  --color-gray-300: hsl(219 8 46 / 90.2%);
  --color-gray-200: hsl(208 13 71 / 54.9%);
  --color-white-100: hsl(0 0 100);

  /* Animations */
  --animate-progress-slide: progressSlide 2s ease-out infinite;

  @keyframes progressSlide {
    0% {
      width: 0%;
    }
    100% {
      width: 600%;
    }
  }
}

@layer base {
  html,
  body,
  #root {
    overflow: hidden;
    z-index: 0;
    scrollbar-width: none;
    &::-webkit-scrollbar {
      display: none;
    }
  }

  body,
  #root {
    height: 100vh;
  }

  html {
    height: 100%;
  }

  body {
    background-color: var(--color-bg-primary);
  }

  #root {
    display: flex;
    flex-direction: column;
  }
}

@utility compass-scroll {
  @layer components {
    :focus-visible {
      outline: none;
    }

    /* scrollbar styling */
    &::-webkit-scrollbar {
      /* Always reserve scrollbar space */
      width: var(--scrollbar-width, 6px);
      border-radius: var(--radius-md, 6px);
      background-color: transparent;
      cursor: default;
    }

    &::-webkit-scrollbar-track {
      cursor: default;
      background: transparent;
    }

    &::-webkit-scrollbar-thumb {
      background-color: transparent;
      border-radius: var(--radius-md, 6px);
      transition: background-color 0.3s ease;
    }

    /* Make scrollbar thumb visible on hover/focus/active of scrollable area */
    &:hover::-webkit-scrollbar-thumb,
    &:focus::-webkit-scrollbar-thumb,
    &:active::-webkit-scrollbar-thumb {
      background-color: var(--color-panel-scrollbar) !important;
    }

    @-moz-document url-prefix() {
      & {
        scrollbar-width: thin;
        scrollbar-color: var(--color-panel-scrollbar) transparent;
      }
    }

    /* Even more visible on hover of the thumb itself */
    &:hover::-webkit-scrollbar-thumb:hover {
      background-color: var(--color-panel-scrollbar-active);
    }
  }
}

@utility overflow-auto {
  @apply compass-scroll;
}

@utility overflow-x-scroll {
  @apply compass-scroll;
}

@utility overflow-x-auto {
  @apply compass-scroll;
}

@utility overflow-y-scroll {
  @apply compass-scroll;
}

@utility overflow-y-auto {
  @apply compass-scroll;
}
